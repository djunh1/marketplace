<nav class="navbar is-transparent" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
  <%= link_to image_tag("hhlogo-small.png",
                      :class => "navbar-item",
                      :alt => "Navigation Logo"), home_path, class: "navbar-brand" %>


    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
    <div class="navbar-item field">
              <p class="control has-icons-right">
                <input class="input" type="search" placeholder="Find your game...">
                <span class="icon is-small is-right">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ddd" d="M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z"/></svg>
                </span>
              </p>
            </div>
    </div>

    <div class="navbar-end">
          <a class="navbar-item">
             User Dashboard
           </a>

           <a class='navbar-item'>
        <!-- Eventually a link to notifications-->
          <%= inline_svg_tag "chat-1.svg", class: 'right-nav-flex__icon' %>
        </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link right-nav-flex__icon-profile">
            <%= image_tag avatar_url(current_user), class: "right-nav-flex__user-photo " %>
        </a>

        <div class="navbar-dropdown is right">
          <a class="navbar-item">
            About Us
          </a>
          <a class="navbar-item">
            Signing up
          </a>

          <hr class="navbar-divider">
          <a class="navbar-item">
            Reaching out
          </a>
        </div>



      </div>
    </div>
  </div>
</nav>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
  $navbarBurgers.forEach( el => {
    el.addEventListener('click', () => {
      const target = el.dataset.target;
      const $target = document.getElementById(target);
      el.classList.toggle('is-active');
      $target.classList.toggle('is-active');
    });
  });

});
</script>
